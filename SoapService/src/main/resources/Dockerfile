# Базовый образ для Java-приложений
FROM adoptopenjdk/openjdk11:ubi
# Добавляем аргумент в образ с именем JAR_FILE, который находится в папке target.
ARG {JAR_FILE}=target/*.jar
# Копируем в докер-образ jar проекта
COPY {JAR_FILE} app.jar
# Запускаем приложение
CMD ["java", "-jar", "/app.jar"]
# Устанавливаем порт, который будет использоваться при запуске приложения
EXPOSE 8080


/**
# Устанавливаем переменную окружения с директорией приложения внутри контейнера
ENV APP_HOME /app

# Создаем директорию приложения внутри контейнера
RUN mkdir $APP_HOME

# Копируем все файлы приложения внутрь контейнера
COPY . $APP_HOME

# Собираем приложение с помощью Maven
RUN cd $APP_HOME && ./mvnw clean package
*/